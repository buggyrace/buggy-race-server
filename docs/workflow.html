<html>
<head>
  <meta charset="utf-8" />
  <title>CS1999 workflow</title>
  <!-- this HTML page is standalone, i.e., doesn't depend on Jekyll assets -->
  <!-- so it can be shared directly with students (e.g., email or Teams)   -->
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
  <style>
    html {
      margin:0;
      padding:0;
    }
    body {
      background:white;
      font-family: "Source Sans Pro","Helvetica Neue",Arial,Helvetica,sans-serif;
      margin:0;
      padding:0;
      font-size: 1.2em;
      color: #333;
    }
    div.substrate {
      background: repeating-linear-gradient(
        -45deg,
        #ffffaa,
        #ffffaa 1em,
        #999 1em,
        #999 2em
      );
      margin:0;
      padding:0;
    }
    div.content {
      background:white;
      color: #333;
      margin:0 0 0 2em;
      padding: 0.5em 1em;
    }
    div.inner {
      margin:0 auto;
      max-width:30em;
    }
  ul.timeline {
    position: relative;
    padding: 10px 10px 10px 50px;
    max-width: 400px;
    list-style:none;
  }

  ul.timeline::before {
    content: '';
    width: 5px;
    background-color: #DE421A;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 15px;
  }

  ul.timeline > li {
    padding: 20px 30px;
    background-color: #FFD6D6;
    position: relative;
    border-radius: 6px;
    margin-bottom: 10px;
  }
  ul.timeline > li.optional {
    background-color: #FFE79B; /*#ffffeb; */
  }

  h3 {
    margin: 0;
    padding: 0;
    font-size: 1.1em;
    font-weight: bold;
    color: #DE421A;
  }
  li.optional h3 {
    color: #dd9933;
  }
  li.optional h3:before {
    content:"Optional";
    padding:0.2em 0.5em;
    background: #dd9933;
    color: white;
    border-radius: 0.5em;
    margin-right:0.5em;
  }
  
  p {
    margin: 10px 0 0 0;
    color: #222;
  }

  ul.timeline > li::before {
    content: '';
    border: 10px solid transparent;
    border-right-color: #FFD6D6;
    border-left: 0;
    position: absolute;
    top: 20%;
    left: -10px;
  }
  ul.timeline >  li.optional::before {
    border-right-color: #FFE79B;
  }
  
  ul.timeline >  li::after {
    content: '';
    background: #FFD6D6;
    border: 4px solid #DE421A;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    position: absolute;
    top: 20%;
    left: -44px;
  }
  ul.timeline > li.optional::after {
    border-color: #dd9933;
    background: #ffffeb;
    
  }
  li li {
    margin:0.5em 0;
  }
  hr {
    margin-bottom:2em;
  }
  html, body { font-family: arial, sans-serif; }
  
</style>
</head>
<body>
  <div class="substrate">
    <div class="content">
  <div class="inner">
  
<h1>CS1999 Buggy Editor workflow</h1>
<h2>May 2021</h2>
<p>
  <a href="https://moodle2021.royalholloway.ac.uk/course/view.php?id=8381">CS1999 Moodle</a> |
  <a href="https://rhul.buggyrace.net">race&nbsp;server</a> |
  <a href="https://rhul-cs-projects.github.io/CS1999-buggy-race-server/">tech&nbsp;notes</a>
</p>
<hr>
<p>
  Here are the steps to get into your web dev flow.
</p>
<p>
  This only looks like a lot because it's in detailed steps!
  Remember that there are also videos showing (directly or
  indirectly) how to do some of these things, so check on the Moodle
  for those.
</p>
<h2>This is the set-up (you only do it once):</h2>
<ul class="timeline init">
  <li>
    <h3>get login details</h3>
    <p>
      Get your login details off the Moodle: they are personalised under 
      <a href="https://moodle2021.royalholloway.ac.uk/mod/assign/view.php?id=650926">race server logins</a>.
    </p>
  </li>
  <li>
    <h3>log into race server</h3>
    <p>
      <a href="https://rhul.buggyrace.net/login/">Log in to the race server</a>
      (make sure it's a secure connection: https).
    </p>
  </li>
  <li>
    <h3>change password</h3>
    <p>
      <a href="https://rhul.buggyrace.net/users/password">Change your password</a>
      to something secret: it was communicated to you
      in plaintext.
   </p>
  </li>
  <li>
    <h3>connect to GitHub</h3>
    <p>
      <a href="https://rhul.buggyrace.net/users/settings">Connect your race
      server account</a> to your GitHub account (you can sign up to
      <a href="https://github.com">GitHub</a> as part of this process).
    </p>
  </li>
  <li>
    <h3>fork the repo</h3>
    <p>
      Fork the Buggy Editor repo into your GitHub account (by pressing
      the <a href="https://rhul.buggyrace.net/users/settings">button</a> 
      on the race server — this is what you authorised the server
      to do in the previous step).
    </p>
  </li>
  <li>
    <h3>see the issues arrive</h3>
    <p>
      Moments after forking, our server tries to inject 27 GitHub issues into
      your repo (one for each task). You don't need these — they are just for
      fun/learning.
    </p>
    <p>
      10-May-2021: there is a bug — some of you are not getting all 27: we're
      working on that!
    </p>
  </li>
  <li>
    <h3>clone your repo</h3>
    <p>
      There are a number of ways to do this but the one we suggest is using VSCode (video: <a href="https://rhul.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=62729d9b-9202-4686-90f6-ae8d002c0a88">0-GET VSCode<a/>) as it avoids installing lots of dependencies on your machines (an area that people often struggle with!).
    </p>
    <p>
      If you're struggling to get VSCode to work and don't feel up to figuring out how to use git then you can try one of:
    </p>
    <ul>
      <li>
        Use <a href="https://replit.com">repl.it</a>
        (video: <a href="https://rhul.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=79c7f430-ca06-45a9-ad36-ae8d002c0a57">0-GET with repl.it</a>)
        and work entirely in-browser.
     </li>
     <li>
       Download the zip file from GitHub (click the green <strong>code</strong>
       button on your repo) and unzip it on your own machine. (This will require installing python, pip and sqlite3 locally on your computer).
      </li>
    </ul>
    <p>
      If you're feeling up to the challenge of using git, we have some options for you!
    </p>
    <p>
      The best way is probably to use GitHub GUI
      (video: <a href="https://rhul.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=dc1be577-db16-4f23-b975-ad200135c7a0">0-GET with GitHub GUI</a>),
      or install Git and try the command line 
      (video: <a href="https://rhul.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=66081520-cc38-4ef5-a40a-ad2001272186">0-GET with command-line git</a>)
      in a terminal or (Windows) git bash.
    </p>
  </li>
  <li>
    <h3>find directory</h3>
    <p>
      Now you have a copy of the project you can edit and run!
    </p>
    <p>
      You need to know <em>where</em> on your file system that is, because for
      the rest of CS1999 you will be working in that directory.
    </p>
    <p>
      New to file systems?
      <a href="https://rhul-cs-projects.github.io/compsci-superbasics/file-system/">Read
      these superbasics</a> because you <em>must</em> be very comfortable with
      them!
    </p>
    <p>
      If you didn't clone the repo into a place you're happy with, you can
      <em>move the whole repo</em> on your machine. It's best to do this before
      you start working on it, though.
    </p>
  </li>
  <li>
    <h3>cd to directory</h3>
    <p>
      Make sure you are
      <a href="https://rhul-cs-projects.github.io/compsci-superbasics/files/current-directory/">"in"
      the directory</a> that contains your Buggy Editor. Use <code>cd</code>
      (change directory) to get there on the command line (if you're using an
      IDE that takes care of this for you, it might not be important).
    </p>
  </li>
  <li class="optional">
    <h3>got Python?</h3>
    <p>
      Check you've got Python3 installed on your machine and you know how to
      run it.
    </p>
  </li>
  <li class="optional">
    <h3>load the modules</h3>
    <p>
      Load the Python modules the Buggy Editor needs: this is what <a
      href="https://pip.pypa.io/en/stable/installing/">pip</a> does. They
      modules you need are listed in <code>requirements.txt</code> so do
      <code>pip&nbsp;install&nbsp;-r&nbsp;requirements.txt</code>.
    </p>
    <p>
      You can look inside <code>requirements.txt</code> of course (but don't
      change it) — you won't be surprised to see Flask in there.
    </p>
    <p>
      You only need to install the modules once. But it's safe to accidentally
      pip install things twice: nothing bad happens, pip just tells you
      "already satisfied".
    </p>
  </li>
  <li class="optional">
    <h3>create virtual env</h3>
    <p>
      If you want to use a virtual environment, create it now with something
      like <br><code>python3&nbsp;-m&nbsp;venv&nbsp;venv</code> <br>That second
      argument is the name of the directory you want to create:
      <code>venv</code> is the convention.
    </p>
  </li>
  <li class="optional">
    <h3>activate venv</h3>
    <p>
       If you just created a virtual environment,
       <a href="https://docs.python.org/3/library/venv.html">activate</a> it.
       There is an activate script/command in the <code>venv</code> directory
       you made: find it and run it (slightly different for Windows/Unix).
    </p>
  </li>
  <li>
    <h3>init the db</h3>
    <p>
      The Buggy Editor comes with a wee Python program for creating and/or
      initialising the database.
    </p>
    <p>
      Use Python3 to run <code>init_db.py</code> (you only need to initialise
      the database once).
    </p>
    <p>
      The database is an <a href="https://sqlite.org/index.html">SQLite
      database</a> (SQLite databases are <em>awesome</em> and you're almost
      certainly running several on your mobile phone already!).
    </p>
  </li>
</ul>

<p>
  Right, you've set up your development environment. Well done! Let's get to
  work.
</p>

  <h2>This what you do each time you do development work:</h2>
  
<ul class="timeline">  
  <li>
    <h3>cd to directory</h3>
    <p>
      Make sure you are <a
      href="https://rhul-cs-projects.github.io/compsci-superbasics/files/current-directory/">"in"
      the directory</a> that contains your Buggy Editor. Use <code>cd</code>
      (change directory) to get there on the command line (if you're using an
      IDE that takes care of this for you, it might not be important).
    </p>
  </li>
  <li class="optional">
    <h3>activate venv</h3>
    <p>
       If you are using a virtual environment, you <em>must</em> remember to
       <a href="https://docs.python.org/3/library/venv.html">activate</a> it:
       there is an activate script/command in the <code>venv</code> directory
       you made: find it and run it.
    </p>
    <p>
      Accidentally re-activating a venv you are already in is harmless.
    </p>
  </li>
  <li class="optional">
    <h3>set ENV vars</h3>
    <p>
      <a href="https://rhul-cs-projects.github.io/CS1999-buggy-race-server/setting-env">Set
      environment variables</a> before you work (at task <a
      href="https://rhul-cs-projects.github.io/CS1999-buggy-race-server/project/tasks/#task-3-env">3-ENV</a>
      and thereafter this is less optional, because you should understand how
      they work and why it's helpful).
    </p>
  </li>
  <li>
    <h3>run the webserver</h3>
    <p>
      Use Python3 to run the webserver: <code>app.py</code>
    </p>
  </li>
  <li>
    <h3>browse to localhost</h3>
    <p>
      Visit <a href="http://localhost:5000">http://localhost:5000</a> in your
      browser: edit your buggy.
    </p>
    <p>
      0.0.0.0:5000 or 127.0.0.0:5000 
      <a href="https://rhul-cs-projects.github.io/CS1999-buggy-race-server/localhost">might work too</a> (it's handy to understand why).
    </p>
  </li>
  <li>
    <h3>run/test/edit/debug</h3>
    <p>
      Make changes using your editor/IDE of choice, save them, look in the
      browser and the webserver's output (in the terminal or wherever you are
      running it).
    </p>
    <p>
      You're a web dev now.
    </p>
  </li>
  <li class="optional">
    <h3>commit changes</h3>
    <p>
      If you are <a href="https://www.atlassian.com/git">using Git</a>, you can
      <em>add</em> and <em>commit</em> your changes, and <em>push</em> them up
      to your repo — you can even close the <a
      href="https://guides.github.com/features/issues/">Github issues</a> if
      you want!
    </p>
  </li>
  <li>
    <h3>repeat for tasks and phases</h3>
    <p>
      Work through <a
      href="https://rhul-cs-projects.github.io/CS1999-buggy-race-server/project/tasks/">the&nbsp;tasks</a>
      (in phase order), keeping notes of what you did because you'll need to
      summarise this in <a
      href="https://rhul-cs-projects.github.io/CS1999-buggy-race-server/project/poster">the&nbsp;“poster”</a>.
    </p>
  </li>
  <li class="optional">
    <h3>deactivate venv</h3>
    <p>
      If you are using a virtual environment, <code>deactivate</code> it
      (there's a deactivate command: you installed it when you activated the
      venv) when you finish your session.
    </p>
  </li>
</ul>
<p>
That's the development cycle.
</p>

<h2>Finally, when it's time to submit:</h2>
<ul class="timeline">
  <li>
    <h3>check the “poster”</h3>
    <p>
      The assessment is 70% on your development work (that's the Python and
      HTML and CSS and supporting files) and 30% on <a
      href="https://rhul-cs-projects.github.io/CS1999-buggy-race-server/project/poster">the&nbsp;“poster”</a>.
    </p>
  </li>
  <li>
    <h3>zip up your Buggy Editor</h3>
    <p>
      This is effectively the working directory you've been doing all your dev
      work in.
    </p>
    <p>
      Follow the instructions on the Moodle: please name your zip file with
      your last name (this is for our convenience to avoid getting 100 files
      called <code>cs1999-buggy-editor.zip</code>).
    </p>
    <p>
      In this zip please do <strong>not</strong> include any of these
      files/directories if they have been created (they might not have been,
      and that's OK!):
    </p>
    <ul>
      <li>
        the <code>venv</code> directory
      </li>
      <li>
        the <code>_pycache_</code> directory
      </li>
      <li>
        the <code>.git</code> directory (if you have used Git — and it is
        <strong>not</strong> a requirement in CS1999! — make sure you've
        pushed back up to your GitHub repo).
      </li>
      <li>
        temporary files or things your IDE put in there which only matter to you
      </li>
    </ul>
    <p>
      We don't need your database file either, because we'll delete it anyway,
      and run your code to create a new one — so <em>if</em> you have changed
      the way that works (you might not have done — fine), make sure you've put
      clear instructions in the README.
    </p>
     <p>
      Don't worry we'll go over all this in the final week and nothing goes
      terribly wrong if you do include things we told you not to...
    </p>
  </li>
</ul>
<p>
  Finally, remember to check the
  <a href="https://rhul-cs-projects.github.io/CS1999-buggy-race-server/">tech&nbsp;notes</a>
   and the
   <a href="https://teams.microsoft.com/l/channel/19%3Abc29f0e1d60b4fb9a7597ba3d7b8ade2%40thread.tacv2/tab%3A%3Ac32e8736-a081-46da-835c-e8247111a3fb?groupId=1e2cd4e1-a1df-4270-895c-fd7ca34025b3&tenantId=2efd699a-1922-4e69-b601-108008d28a2e">Q&A&nbsp;Wiki</a>
   on Teams — and, if you get stuck, ask us for help either in the
   <a href="https://teams.microsoft.com/l/channel/19%3abc29f0e1d60b4fb9a7597ba3d7b8ade2%40thread.tacv2/General?groupId=1e2cd4e1-a1df-4270-895c-fd7ca34025b3&tenantId=2efd699a-1922-4e69-b601-108008d28a2e">CS1999&nbsp;Teams general&nbsp;channel</a>
   or via the private
   <a href="https://teams.microsoft.com/l/entity/81fef3a6-72aa-4648-a763-de824aeafb7d/_djb2_msteams_prefix_681285420?context=%7B%22subEntityId%22%3Anull%2C%22channelId%22%3A%2219%3Abc29f0e1d60b4fb9a7597ba3d7b8ade2%40thread.tacv2%22%7D&groupId=1e2cd4e1-a1df-4270-895c-fd7ca34025b3&tenantId=2efd699a-1922-4e69-b601-108008d28a2e">Question form</a>.
</p>
<p>&nbsp;</p>
<a href="https://rhul.buggyrace.net/specs/#hamster"><img src="https://rhul.buggyrace.net/static/build/img/rene-hamster-1.png" alt="CS1999 'roadent' hamster" /></a>
</div>
</div>
</div>
</body>
</html>
