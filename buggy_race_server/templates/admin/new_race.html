{% extends "layout.html" %}
{% block content %}
{%include "admin/_nav.html" %}
<div class="container pb-5">
  <div class="row">
    <h1>
      Add new race
    </h1>
  </div>
  <div class="row">
    <p>
      If there is a race that hasn't run yet, and it's <em>not</em> hidden,
      it <strong>will automatically be announced</strong> on the
      <a href="{{ url_for('public.announce_races') }}">race page</a>.
    </p>
    <p>
      There is currently no mechanism for handling races that have run: they
      just don't get announced (!).
    </p>
  </div>  
  <div class="row">
    <form id="RaceForm" class="form form-race" method="POST" action="" role="form">
      {{ form.csrf_token }}
      <div class="form-group">
          {{form.title.label}}
          {{form.title(placeholder="Season opener", class_="form-control")}}
      </div>
      <div class="form-group">
          {{form.desc.label}}
          {{form.desc(placeholder="Description of setting, etc", class_="form-control")}}
          <p>(may contain HTML — check it’s correct!)</p>
          
      </div>
      <div class="form-group">
          {{form.start_at.label}}
          {{form.start_at(placeholder="YYYY-MM-DD HH:MM", class_="form-control")}}
          <p>(defaults to 2 minutes to midnight, tomorrow)</p>
      </div>
      <div class="form-group">
          {{form.cost_limit.label}}
          {{form.cost_limit(placeholder="100", class_="form-control")}}
      </div>
      <div class="form-group">
          {{form.is_visible.label}}
          {{form.is_visible(class_="form-control", checked=True)}}
          <p>(races that are not visible are not announced)</p>
      </div>
      <p><input class="btn btn-danger" type="submit" value="Add new race"></p>
    </form>
  </div>
</div>

{% endblock %}

