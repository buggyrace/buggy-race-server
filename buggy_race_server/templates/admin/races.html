{% extends "layout.html" %}
{% block content %}
{%include "admin/_nav.html" %}
<div class="container pb-5">
  <div class="row">
    <h1 class="col my-3">
      Races
    </h1>
  </div>
  <div class="row">
    <table class="col table table-striped table-bordered table-hover table-responsive bg-white">
      <thead>
        <tr>
          <th>Shown?</th>
          <th>Race start</th>
          <th>Cost limit</th>
          <th>Title/description</th>
          <th>Entered</th>
          <th>Started</th>
          <th>Finished</th>
        </tr>
      </thead>
      <tbody>
        {% for race in races %}
          <tr class="race-visible-{{ race.is_visible }}">
            <td>
              {% if race.is_visible %}
                Yes
              {% else %}
                No
              {% endif %}
            </td>
            <td>
              {{ race.start_at.strftime('%Y-%m-%d %H:%M') }}
            </td>
            <td>
              {{ race.cost_limit }}
            </td>
            <td>
              <div class="cell-title">
                {{ race.title }}
              </div>
              {% if race.desc %}
                <div class="my-2">{{ race.desc }}</div>
              {% endif %}
            </td>
            <td>
              {{ race.buggies_entered }}
            </td>
            <td>
              {{ race.buggies_started }}
            </td>
            <td>
              {{ race.buggies_finished }}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<div class="container pb-5">
  <div class="row">
    <a href="{{ url_for('race.new_race')}}" class="btn btn-outline-secondary btn-admin">Add new race &rtri;</a>
  </div>
</div>
{% endblock %}

